#include<map>

struct dc_table{
	unsigned char code_length;
	int codeword;
};

dc_table dc_t[12] = {
	2, 0x0,
	3, 0x2,
	3, 0x3,
	3, 0x4,
	3, 0x5,
	3, 0x6,
	4, 0xE,
	5, 0x1E,
	6, 0x3E,
	7, 0x7E,
	8, 0xFE,
	9, 0x1FE
};
struct ac_table_de{
	int run;
	int size;
};
struct ac_table{
	int length;
	int codeword;
};
ac_table ac_t[16][16] = {
	4, 0xa,
	2, 0x0,
	2, 0x1,
	3, 0x4,
	4, 0xb,
	5, 0x1a,
	7, 0x78,
	8, 0xf8,
	10, 0x3f6,
	16, 0xff82,
	16, 0xff83,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	4, 0xc,
	5, 0x1b,
	7, 0x79,
	9, 0x1f6,
	11, 0x7f6,
	16, 0xff84,
	16, 0xff85,
	16, 0xff86,
	16, 0xff87,
	16, 0xff88,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	5, 0x1c,
	8, 0xf9,
	10, 0x3f7,
	12, 0xff4,
	16, 0xff89,
	16, 0xff8a,
	16, 0xff8b,
	16, 0xff8c,
	16, 0xff8d,
	16, 0xff8e,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	6, 0x3a,
	9, 0x1f7,
	12, 0xff5,
	16, 0xff8f,
	16, 0xff90,
	16, 0xff91,
	16, 0xff92,
	16, 0xff93,
	16, 0xff94,
	16, 0xff95,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	6, 0x3b,
	10, 0x3f8,
	16, 0xff96,
	16, 0xff97,
	16, 0xff98,
	16, 0xff99,
	16, 0xff9a,
	16, 0xff9b,
	16, 0xff9c,
	16, 0xff9d,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	7, 0x7a,
	11, 0x7f7,
	16, 0xff9e,
	16, 0xff9f,
	16, 0xffa0,
	16, 0xffa1,
	16, 0xffa2,
	16, 0xffa3,
	16, 0xffa4,
	16, 0xffa5,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	7, 0x7b,
	12, 0xff6,
	16, 0xffa6,
	16, 0xffa7,
	16, 0xffa8,
	16, 0xffa9,
	16, 0xffaa,
	16, 0xffab,
	16, 0xffac,
	16, 0xffad,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	8, 0xfa,
	12, 0xff7,
	16, 0xffae,
	16, 0xffaf,
	16, 0xffb0,
	16, 0xffb1,
	16, 0xffb2,
	16, 0xffb3,
	16, 0xffb4,
	16, 0xffb5,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	9, 0x1f8,
	15, 0x7fc0,
	16, 0xffb6,
	16, 0xffb7,
	16, 0xffb8,
	16, 0xffb9,
	16, 0xffba,
	16, 0xffbb,
	16, 0xffbc,
	16, 0xffbd,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	9, 0x1f9,
	16, 0xffbe,
	16, 0xffbf,
	16, 0xffc0,
	16, 0xffc1,
	16, 0xffc2,
	16, 0xffc3,
	16, 0xffc4,
	16, 0xffc5,
	16, 0xffc6,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	9, 0x1fa,
	16, 0xffc7,
	16, 0xffc8,
	16, 0xffc9,
	16, 0xffca,
	16, 0xffcb,
	16, 0xffcc,
	16, 0xffcd,
	16, 0xffce,
	16, 0xffcf,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	10, 0x3f9,
	16, 0xffd0,
	16, 0xffd1,
	16, 0xffd2,
	16, 0xffd3,
	16, 0xffd4,
	16, 0xffd5,
	16, 0xffd6,
	16, 0xffd7,
	16, 0xffd8,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	10, 0x3fa,
	16, 0xffd9,
	16, 0xffda,
	16, 0xffdb,
	16, 0xffdc,
	16, 0xffdd,
	16, 0xffde,
	16, 0xffdf,
	16, 0xffe0,
	16, 0xffe1,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	11, 0x7f8,
	16, 0xffe2,
	16, 0xffe3,
	16, 0xffe4,
	16, 0xffe5,
	16, 0xffe6,
	16, 0xffe7,
	16, 0xffe8,
	16, 0xffe9,
	16, 0xffea,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	16, 0xffeb,
	16, 0xffec,
	16, 0xffed,
	16, 0xffee,
	16, 0xffef,
	16, 0xfff0,
	16, 0xfff1,
	16, 0xfff2,
	16, 0xfff3,
	16, 0xfff4,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	11, 0x7f9,
	16, 0xfff5,
	16, 0xfff6,
	16, 0xfff7,
	16, 0xfff8,
	16, 0xfff9,
	16, 0xfffa,
	16, 0xfffb,
	16, 0xfffc,
	16, 0xfffd,
	16, 0xfffe,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0,
	0, 0x0 };

static float quantization_table[8][8] =
{ 16, 11, 10, 16, 24, 40, 51, 61,
12, 12, 14, 19, 26, 58, 60, 55,
14, 13, 16, 24, 40, 57, 69, 56,
14, 17, 22, 29, 51, 87, 80, 62,
18, 22, 37, 56, 68, 109, 103, 77,
24, 36, 55, 64, 81, 104, 113, 92,
49, 64, 78, 87, 103, 121, 120, 101,
72, 92, 95, 98, 112, 100, 103, 99 };
const int zigZagOrder[64] = {
	0, 1, 8, 16, 9, 2, 3, 10,
	17, 24, 32, 25, 18, 11, 4, 5,
	12, 19, 26, 33, 40, 48, 41, 34,
	27, 20, 13, 6, 7, 14, 21, 28,
	35, 42, 49, 56, 57, 50, 43, 36,
	29, 22, 15, 23, 30, 37, 44, 51,
	58, 59, 52, 45, 38, 31, 39, 46,
	53, 60, 61, 54, 47, 55, 62, 63
};
